<link href='http://fonts.googleapis.com/css?family=Lobster' rel='stylesheet' type='text/css'>
<script type="text/javascript" src="http://www.youtube.com/player_api"> </script>
<link href='http://fonts.googleapis.com/css?family=Marck+Script' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Oregano:400italic' rel='stylesheet' type='text/css'>

  <script type="text/javascript">
      // 2. This code loads the IFrame Player API code asynchronously.
      var tag = document.createElement('script');

      tag.src = "https://www.youtube.com/iframe_api";
      var firstScriptTag = document.getElementsByTagName('script')[0];
      firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
      var player;
      function onYouTubeIframeAPIReady() {
        player = new YT.Player(
        'player', {
          height: '390',
          width: '640',
          playerVars: { playlist: 'PLA22494BCC6051C87' },
          events: {
            'onReady': onPlayerReady,
            'onStateChange': onPlayerStateChange,
          }
        });
      }
      // 4. The API will call this function when the video player is ready.
      function onPlayerReady(event) {   
       var randVideo = Math.round(Math.random()*14);
      player.loadPlaylist({
	 				 list: 'PLA22494BCC6051C87',
	 				 listType:'list',
	 				 index: randVideo,
                   })   
      event.target.playVideo();
      } 
      
      function nextVideo() {
      
       var randVideo = Math.round(Math.random()*60);
      		console.log(randVideo);
     
	      player.loadPlaylist({
		 				 list: 'PLA22494BCC6051C87',
		 				 listType:'list',
		 				 index: randVideo,
	                   })   
	      event.target.playVideo();
     
      }
      
      // 5. The API calls this function when the player's state changes.
      //    The function indicates that when playing a video (state=1),
      
      function onPlayerStateChange(event) {
       
      }
      function stopVideo() {
        player.stopVideo();
      }
    </script>

    <div class="container">
    <div class ="miles-left">
        <%= image_tag "miles-left.png" %>
        </div>
        <div class="miles-right">
        <%= image_tag "miles-right.png" %>
        </div>
    <div class ="wrapper">
				<header>
					<div id="logo">JustJazz.me</div>
						<div id ="tagline">Smooth Jazz All Night Long</div>
				</header>
				<div id="player"></div>
				
			
				<nav>  
				<a href="javascript:player.previousVideo()" id="previous">Previous</a>
				<a href="javascript:player.playVideo()" id="play">Play</a>
				<a href="javascript:player.pauseVideo()" id="pause">Pause</a>
				<a href="javascript:nextVideo()" id="next" class="pull-right">Next</a>
      

				<div style="clear: both;"></div>
  			</nav>
  				
  				</div>
  				
    <div id="footer">
    <p>JustJazz.me, 2013<br>
    <a href="http://www.twitter.com/misteroptimist" class="href">Made by @MisterOptimist</a>
    </p>
	</div>
</div><!-- wrapper -->
</div><!-- miles -->
</div><!-- container -->

